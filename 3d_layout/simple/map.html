<!DOCTYPE html>
<html lang="zh">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta http-equiv="X-UA-Compatible" content="ie=edge">
		<title>立体地图</title>


		<link rel="stylesheet" type="text/css" href="../component/d3d.css" />

		<script src="http://libs.baidu.com/jquery/2.0.0/jquery.min.js"></script>
		<script src="../component/axis_component/show-axis.js" charset="utf-8"></script>
		<script src="../component/monitor_component/monitor_component.js" charset="utf-8"></script>
		<script src="../component/thikness_component/thickness.js" charset="utf-8"></script>
		<script src="../component/cube/cube.js" type="text/javascript" charset="utf-8"></script>
		<script src="http://leaverou.github.com/prefixfree/prefixfree.min.js"></script>


	</head>
	<body onload="document.all.show.innerHTML=''">
		<div id="show">
			<p style="color:#0000FF;font-size:1cm;">加载中......</p>
		</div>

		<div class="world full3d ">
			<div class="map">
				<div></div>
				<!-- <img class="imga" src="../img/map/map2.jpeg" > -->
			</div>

			<div class="maplarge">
				<div></div>
				<!-- <img class="img2" src="../img/map/map2.jpeg" alt=""> -->
			</div>
		</div>

	</body>


</html>

<style>

	body{
		width: 100vw;
		height: 100vh;
		background-color: black;
		overflow: hidden;
	}
	.world{
		background-size: 100% 100%;
		outline: 0px;
		
	}
	.map,.maplarge{
		
		background-image: url(../img/mucai/m14.jpeg);
		background-size: 100% 100%;
		padding: 1cm;
		position: absolute;
		width: 60%;
		height: 60%;
		overflow: hidden;
		left: 20%;
		top:20%;
		
		border-radius: 10%;
		
		/* box-sizing: border-box; */
	}
	.map>div,.maplarge>div{
		position: absolute;
		background-size: 100% 100%;
		background-image: url(../img/map/map.jfif);
	}
	
	.map{
		
	}
	
	
	:root{
		--w:5208px;
		--h:3593px;
		
		/* 缩小的倍数 */
		--s:10;
	}
	
	/* 小图 */
	.map,.map>div{
		
		width: calc(var(--w)/var(--s));
		height: calc(var(--h)/var(--s));
		left: calc(50% - var(--w)/var(--s)/2);
		top:calc(50% - var(--h)/var(--s)/2);
		
	}
	
	/* 大图 */
	.maplarge>div{
		/* 设置宽高 */
		width: var(--w);
		height: var(--h);
		
		/* 居中 */
		left: calc(50% - var(--w)/2);
		top:calc(50% - var(--h)/2);
		
		
		
	}
</style>

<script type="text/javascript">
	$(function() {
		$watch(".world", ".map", "xy", "translate", ".world>div");
		$(".map>div").on("mousemove", function(e) {
			x = e.offsetX;
			y = e.offsetY;
			xlate = "calc(50% - " + x * 10 + "px)";
			ylate = "calc(50% - " + y * 10 + "px)";
			console.log(xlate + "," + ylate);
			$(".maplarge>div").css({
				"transform": "translateX(" + xlate + ") translateY(" + ylate + ")"
			})
		})
	})
</script>
